# $Id$

# headers: SPARQL
Header set "MS-Author-Via" "SPARQL"

# headers: CORS
Header set "Access-Control-Allow-Methods" "GET, POST, PUT, DELETE, OPTIONS"
Header set "Access-Control-Allow-Headers" "X-Requested-With, Content-Type"

# headers: Caching
Header set "Cache-Control" "no-store, no-cache, must-revalidate, post-check=0, pre-check=0"
Header set "Pragma" "no-cache"

# rewrite

RewriteEngine On
#RewriteMap lowercase int:tolower
#RewriteRule ^/(.*)$ /srv/clouds/${lowercase:%{SERVER_NAME}}/$1

RewriteCond %{REQUEST_METHOD} =POST
RewriteCond %{HTTP:Content-Type} =application/sparql-query
RewriteRule ^(.*)$ SPARQL.py [L]

RewriteCond %{REQUEST_METHOD} =OPTIONS [OR]
RewriteCond %{REQUEST_METHOD} =GET [OR]
RewriteCond %{REQUEST_METHOD} =MKCOL [OR]
RewriteCond %{REQUEST_METHOD} =POST [OR]
RewriteCond %{REQUEST_METHOD} =PUT [OR]
RewriteCond %{REQUEST_METHOD} =DELETE
RewriteRule ^(.*)$ %{REQUEST_METHOD}.php [L]

# drop all other Apache responses
#RewriteRule .* - [L,R=501]
